(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"8/g6":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=r.default.memo(r.default.forwardRef((function(t,a){return r.default.createElement(l.default,(0,o.default)({ref:a},t),e)})));0;return a.muiName=l.default.muiName,a};var o=n(a("pVnL")),r=n(a("q1tI")),l=n(a("UJJ5"))},Dpg8:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("q1tI")),r=(0,n(a("8/g6")).default)(o.default.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward");t.default=r},L6Ll:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),o=a.n(n),r=a("nOHt"),l=a("r9w1"),i=a("ZiQX"),c=a("Dpg8"),s=a.n(c),d=a("Z3vd"),u=a("h7RS"),p=a("SMIj"),f=a("e5ou"),m=a("W+MB"),b=a("+KH9"),g=a("3hq0"),v=o.a.createElement,h=function(e){var t=e.newUser,a=Object(n.useContext)(m.a),r=a[0],l=a[1],i=Object(n.useState)(!1),c=i[0],s=i[1],u={username:{},email:{type:"email",helperText:"email is not required, not public and will never be used for spam - it may be used for password resets and very, very rare announcements"},password:{type:"password",label:"".concat(t?"":"Change"," Password"),helperText:!t&&"leave blank to keep current password"},password_confirmation:{type:"password",label:"Confirm Password"}};return v(o.a.Fragment,null,v(d.a,{variant:"outlined",size:"small",onClick:function(){return s(!0)}},t?"Sign Up":"Edit Details"),v(g.a,{open:c,setOpen:s,title:"Private User Details",fields:u,namespace:"user",method:t?"POST":"PATCH",url:"user.json",source:r,setSource:l,onSave:function(){l(null)}}))},y=o.a.createElement,O=function(){var e=Object(n.useContext)(m.a)[1],t=Object(n.useState)(!1),a=t[0],r=t[1];return y(o.a.Fragment,null,y(d.a,{variant:"outlined",size:"small",onClick:function(){return r(!0)}},"Log In"),y(g.a,{open:a,setOpen:r,title:"Log In",fields:{username:{},password:{type:"password"}},method:"POST",url:"login.json",onSave:function(){e(null)}}))},j=o.a.createElement,w=function(){var e=Object(n.useState)(!1),t=e[0],a=e[1];return j(o.a.Fragment,null,j(d.a,{variant:"outlined",size:"small",onClick:function(){return a(!0)}},"Reset by Email"),j(g.a,{open:t,setOpen:a,title:"Reset by Email",fields:{email:{type:"email",helperText:"an email will be sent to the address on your account"}},method:"POST",url:"password_resets.json"}))},x=a("rePB"),k=a("+Isj"),C=a("iae6"),P=a("H2TA"),S=a("fdnT"),E=o.a.createElement;function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function R(e){var t=e.body,a=e.url,r=e.method,l=e.onSuccess,i=e.children,c=Object(n.useState)(!1),s=c[0],u=c[1],p=Object(n.useContext)(S.a)[1],f=Object(P.a)({root:{color:"#FFF"}})(C.a);return E(o.a.Fragment,null,E(d.a,{variant:"outlined",size:"small",onClick:function(){u(!0),window.fetch("//".concat("api.rainfallrecord.info","/").concat(a),{method:r||"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(N({utf8:"\u2713"},t||{}))}).then((function(e){e.ok&&p({ok:!0,msg:"Done."}),l&&l(),u(!1)})).catch((function(){p({ok:!1,msg:"Failed!"}),u(!1)}))}},i),E(k.a,{open:s,style:{zIndex:1}},E(f,null)))}var z=a("AesL"),_=o.a.createElement;t.default=function(){var e=Object(r.useRouter)(),t=Object(n.useContext)(m.a),a=t[0],c=t[1];return _(u.a,null,_(f.a,null,_(f.b,null,"User Options"),null===a&&_(f.c,null,"Loading..."),null!==a&&void 0===a.id&&_(o.a.Fragment,null,_(f.c,null,"New Users:"),_(f.a,null,_(h,{newUser:!0})," or ",_(z.a,{component:d.a,variant:"outlined",size:"small",href:"/location",as:"/location/?id=0"},"Try a Live Demo")),_(f.d,null,"Its free!"),_(f.c,null,"Existing Users:"),_(f.a,null,_(O,null)),_(f.c,null,"Forgot Username or Password?"),_(f.a,null,_(w,null))),null!==a&&void 0!==a.id&&_(o.a.Fragment,null,_(f.a,null,_(R,{url:"logout",onSuccess:function(){return c(null)}},"Log Out")),_(f.c,null,"Private Details"),_(f.a,null,_(h,{newUser:!1})," "),_(f.d,null,"Username: ",a.username),_(f.d,null,"Email: ",a.email||"[none]"),!a.email_verified&&_(i.a,{severity:"warning",action:_(R,{url:"password_resets.json"},a.email_verified||a.email_sent?"Re":"","Send Verification Email")},"Please verify your email address."),_(f.c,null,"Location Records"),_(f.a,null,_(b.a,{onSave:function(t){var a=t.body;c(null),e.push("/location?id=".concat(a.id))}}),0===a.locations.length&&_(o.a.Fragment,null,_("br",null),_("br",null),_(i.a,{severity:"info",icon:_(s.a,{fontSize:"inherit"})},"Click the button above to start a new record location!"))),0!==a.locations.length&&_(o.a.Fragment,null,_("br",null),_(p.a,{locations:a.locations})),_("br",null),_("br",null),_("br",null),_("small",null,"API key:"),_("br",null),_(l.a,{value:a.api_key,size:"small"}))))}},SMIj:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),r=a("Ff2n"),l=a("wx14"),i=(a("17x9"),a("iuhU")),c=a("H2TA");var s=n.createContext(),d=n.forwardRef((function(e,t){var a=e.classes,o=e.className,c=e.component,d=void 0===c?"table":c,u=e.padding,p=void 0===u?"default":u,f=e.size,m=void 0===f?"medium":f,b=e.stickyHeader,g=void 0!==b&&b,v=Object(r.a)(e,["classes","className","component","padding","size","stickyHeader"]),h=n.useMemo((function(){return{padding:p,size:m,stickyHeader:g}}),[p,m,g]);return n.createElement(s.Provider,{value:h},n.createElement(d,Object(l.a)({ref:t,className:Object(i.a)(a.root,o,g&&a.stickyHeader)},v)))})),u=Object(c.a)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Object(l.a)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(d);var p=n.createContext(),f={variant:"body"},m=n.forwardRef((function(e,t){var a=e.classes,o=e.className,c=e.component,s=void 0===c?"tbody":c,d=Object(r.a)(e,["classes","className","component"]);return n.createElement(p.Provider,{value:f},n.createElement(s,Object(l.a)({className:Object(i.a)(a.root,o),ref:t},d)))})),b=Object(c.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(m),g=a("NqtD"),v=a("ye/S"),h=n.forwardRef((function(e,t){var a,o=e.align,c=void 0===o?"inherit":o,d=e.classes,u=e.className,f=e.component,m=e.padding,b=e.scope,v=e.size,h=e.sortDirection,y=e.variant,O=Object(r.a)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),j=n.useContext(s),w=n.useContext(p);a=f||(w&&"head"===w.variant?"th":"td");var x=b;!x&&w&&"head"===w.variant&&(x="col");var k=m||(j&&j.padding?j.padding:"default"),C=v||(j&&j.size?j.size:"medium"),P=y||w&&w.variant,S=null;return h&&(S="asc"===h?"ascending":"descending"),n.createElement(a,Object(l.a)({ref:t,className:Object(i.a)(d.root,d[P],u,"inherit"!==c&&d["align".concat(Object(g.a)(c))],"default"!==k&&d["padding".concat(Object(g.a)(k))],"medium"!==C&&d["size".concat(Object(g.a)(C))],"head"===P&&j&&j.stickyHeader&&d.stickyHeader),"aria-sort":S,scope:x},O))})),y=Object(c.a)((function(e){return{root:Object(l.a)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?Object(v.e)(Object(v.c)(e.palette.divider,1),.88):Object(v.a)(Object(v.c)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0px 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(h),O=n.forwardRef((function(e,t){var a=e.classes,o=e.className,c=e.component,s=void 0===c?"div":c,d=Object(r.a)(e,["classes","className","component"]);return n.createElement(s,Object(l.a)({ref:t,className:Object(i.a)(a.root,o)},d))})),j=Object(c.a)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(O),w={variant:"head"},x=n.forwardRef((function(e,t){var a=e.classes,o=e.className,c=e.component,s=void 0===c?"thead":c,d=Object(r.a)(e,["classes","className","component"]);return n.createElement(p.Provider,{value:w},n.createElement(s,Object(l.a)({className:Object(i.a)(a.root,o),ref:t},d)))})),k=Object(c.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(x),C=n.forwardRef((function(e,t){var a=e.classes,o=e.className,c=e.component,s=void 0===c?"tr":c,d=e.hover,u=void 0!==d&&d,f=e.selected,m=void 0!==f&&f,b=Object(r.a)(e,["classes","className","component","hover","selected"]),g=n.useContext(p);return n.createElement(s,Object(l.a)({ref:t,className:Object(i.a)(a.root,o,g&&{head:a.head,footer:a.footer}[g.variant],u&&a.hover,m&&a.selected)},b))})),P=Object(c.a)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:Object(v.c)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(C),S=a("kKAo"),E=a("YFqc"),T=a.n(E),N=a("AesL"),R=o.a.createElement;t.a=function(e){var t=e.locations;return R(j,{component:S.a,size:"small",style:{backgroundColor:"transparent"}},R(u,null,R(k,null,R(P,null,R(y,null,"Title"),R(y,null,"Location"),R(y,{align:"right"},"7 Days"),R(y,{align:"right"},"30 Days"))),R(b,null,t.map((function(e){return R(T.a,{key:e.id,href:"/location",as:"/location/?id=".concat(e.id)},R(P,{style:{cursor:"pointer"}},R(y,{component:"th",scope:"row"},R(N.a,{href:"/location",as:"/location/?id=".concat(e.id),style:{fontWeight:"bold"}},e.title)),R(y,null,e.location),R(y,{align:"right"},e.total_7_days),R(y,{align:"right"},e.total_30_days)))})))))}},UJJ5:function(e,t,a){"use strict";a.r(t);var n=a("HR5l");a.d(t,"default",(function(){return n.a}))},lgRd:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user",function(){return a("L6Ll")}])},pVnL:function(e,t){function a(){return e.exports=a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},a.apply(this,arguments)}e.exports=a}},[["lgRd",0,2,1,3,4,5,6]]]);