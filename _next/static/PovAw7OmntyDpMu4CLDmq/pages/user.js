(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{Dpg8:function(e,n,t){"use strict";var a=t("TqRt");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var l=a(t("q1tI")),o=(0,a(t("8/g6")).default)(l.default.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward");n.default=o},L6Ll:function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),l=t.n(a),o=t("Z3vd"),r=t("h7RS"),s=t("e5ou"),i=t("W+MB"),u=t("3hq0"),c=l.a.createElement;function d(e){var n=e.newUser,t=Object(a.useContext)(i.a),r=t[0],s=t[1],d=Object(a.useState)(!1),p=d[0],m=d[1],f={username:{inputProps:{autocomplete:"username",autocorrect:"off",autocapitalize:"none"}},email:{type:"email",inputProps:{autocomplete:"email",autocorrect:"off",autocapitalize:"none"},helperText:"email is not required, not public and will never be used for spam - it may be used for password resets and very, very rare announcements"},password:{type:"password",inputProps:{autocomplete:"new-password",autocorrect:"off",autocapitalize:"none"},label:"".concat(n?"":"Change"," Password"),helperText:n?"please use a random password generated by your browser or password manager":"leave blank to keep current password"},password_confirmation:{type:"password",inputProps:{autocomplete:"new-password",autocorrect:"off",autocapitalize:"none"},label:"Confirm Password"}};return c(l.a.Fragment,null,c(o.a,{variant:"outlined",size:"small",onClick:function(){return m(!0)}},n?"Sign Up":"Edit Details"),c(u.a,{open:p,setOpen:m,title:n?"Sign Up":"Edit Details",description:"These private user details are never visible on the site or shared elsewhere.",fields:f,namespace:"user",method:n?"POST":"PATCH",url:"user.json",source:r,setSource:s,onSave:function(){s(null)}}))}var p=t("AesL"),m=l.a.createElement;function f(){var e=Object(a.useContext)(i.a)[1],n=Object(a.useState)(!1),t=n[0],r=n[1];return m(l.a.Fragment,null,m(o.a,{variant:"outlined",size:"small",onClick:function(){return r(!0)}},"Log In"),m(u.a,{open:t,setOpen:r,title:"Log In",fields:{username:{inputProps:{autocomplete:"username",autocorrect:"off",autocapitalize:"none"}},password:{type:"password",inputProps:{autocomplete:"current-password",autocorrect:"off",autocapitalize:"none"}}},method:"POST",url:"login.json",onSave:function(){e(null)}}))}var w=l.a.createElement;function v(){var e=Object(a.useState)(!1),n=e[0],t=e[1];return w(l.a.Fragment,null,w(o.a,{variant:"outlined",size:"small",onClick:function(){return t(!0)}},"Reset by Email"),w(u.a,{open:n,setOpen:t,title:"Reset by Email",fields:{email:{type:"email",helperText:"an email will be sent to the address on your account"}},method:"POST",url:"password_resets.json"}))}var h=l.a.createElement;function b(){return h(l.a.Fragment,null,h(s.b,null,"Welcome!"),h(s.c,null,"New Users:"),h(s.a,null,h(d,{newUser:!0})," or ",h(p.a,{component:o.a,variant:"outlined",size:"small",href:"/location",as:"/location?id=0"},"Try a Live Demo")),h(s.d,null,"Its free!"),h(s.c,null,"Existing Users:"),h(s.a,null,h(f,null)),h(s.c,null,"Forgot Username or Password?"),h(s.a,null,h(v,null)))}var g=t("ZiQX"),y=t("Dpg8"),_=t.n(y),P=t("hlFM"),S=t("nOHt"),T=t("SMIj"),O=t("+KH9"),j=t("p6x/"),E=t("ZFHq"),U=l.a.createElement;function z(e){var n=e.user,t=e.setUser,a=Object(S.useRouter)();return U(l.a.Fragment,null,U(s.b,null,"Hi ",n.username),U(s.a,null,U(E.a,{url:"logout.json",onSuccess:function(){return t(null)}},"Log Out")," ",U(o.a,{variant:"outlined",size:"small",onClick:function(){return t(null)}},"Refresh")),U(s.c,null,"Private Details"),U(s.a,null,U(d,{newUser:!1})," "),U(s.d,null,"Username: ",n.username),U(s.d,null,"Email: ",n.email||"[none]"),!n.email_verified&&U(g.a,{severity:"warning",action:U(E.a,{url:"password_resets.json"},n.email_verified||n.email_sent?"Re":"","Send Verification Email")},"Please verify your email address."),n.system_message&&n.system_message.length>0&&U(g.a,{severity:"info",action:U(E.a,{url:"user.json",method:"PATCH",body:{user:{system_message:""}},onSuccess:function(){return t(null)}},"Ok")},n.system_message),U(s.c,null,"Location Records"),U(s.a,null,U(O.a,{onSave:function(e){var n=e.body;t(null),a.push("/location?id=".concat(n.id))}}),0===n.locations.length&&U(l.a.Fragment,null,U("br",null),U("br",null),U(g.a,{severity:"info",icon:U(_.a,{fontSize:"inherit"})},"Click the button above to start a new record location!"))),0!==n.locations.length&&U(l.a.Fragment,null,U("br",null),U(T.a,{locations:n.locations,showTitle:!0})),U(s.c,null,"Feedback"),U(j.a,null),U(P.a,{mt:3},U(s.d,null,"$5 donation: ",U("small",null,"(totally optional, no obligation)")),U("div",{dangerouslySetInnerHTML:{__html:'<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top"><input type="hidden" name="cmd" value="_s-xclick" /><input type="hidden" name="hosted_button_id" value="8R9MUHRNPH7SA" /><input type="image" src="https://www.paypalobjects.com/en_AU/i/btn/btn_donate_SM.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate with PayPal button" /><img alt="" border="0" src="https://www.paypal.com/en_AU/i/scr/pixel.gif" width="1" height="1" /></form>'}}),U(s.d,null,U("small",null,"(Donations will go towards website maintenance and server costs.)"))),U(s.c,null,"API Key"),U("div",{style:{overflowX:"auto",fontSize:"12px"}},U("code",null,n.api_key)))}var k=l.a.createElement;n.default=function(){var e=Object(a.useContext)(i.a),n=e[0],t=e[1];return k(r.a,null,k(s.a,null,null===n&&k(s.b,null,"Loading..."),!1===n&&k(l.a.Fragment,null,k(s.b,null,"Temporarily Unavailable"),k(s.d,null,"There was an error when connecting to the server."),k(s.d,null,"This may happen occasionally as the server is hosted on free resources."),k(s.d,null,"Please try again soon!"),k(o.a,{variant:"outlined",size:"small",onClick:function(){return t(null)}},"Refresh")),n&&void 0===n.id&&k(b,null),n&&void 0!==n.id&&k(z,{user:n,setUser:t})))}},lgRd:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user",function(){return t("L6Ll")}])}},[["lgRd",0,2,1,3,4,5,6,7]]]);