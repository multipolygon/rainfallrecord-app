(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"8oxB":function(e,n){var t,r,l=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,s=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?s=u.concat(s):d=-1,s.length&&m())}function m(){if(!c){var e=i(f);c=!0;for(var n=s.length;n;){for(u=s,s=[];++d<n;)u&&u[d].run();d=-1,n=s.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(n){try{return r.call(null,e)}catch(n){return r.call(this,e)}}}(e)}}function p(e,n){this.fun=e,this.array=n}function h(){}l.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];s.push(new p(e,n)),1!==s.length||c||i(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=h,l.addListener=h,l.once=h,l.off=h,l.removeListener=h,l.removeAllListeners=h,l.emit=h,l.prependListener=h,l.prependOnceListener=h,l.listeners=function(e){return[]},l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},Dpg8:function(e,n,t){"use strict";var r=t("TqRt");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var l=r(t("q1tI")),a=(0,r(t("8/g6")).default)(l.default.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward");n.default=a},I3PH:function(e,n,t){"use strict";(function(e){var r=t("q1tI"),l=t.n(r),a=t("ZiQX"),o=t("Dpg8"),i=t.n(o),u=t("hlFM"),s=t("Z3vd"),c=t("nOHt"),d=t("SMIj"),f=t("+KH9"),m=t("UC51"),p=t("p6x/"),h=t("ZFHq"),v=t("e5ou"),w=l.a.createElement;n.a=function(n){var t=n.user,r=n.setUser,o=Object(c.useRouter)();return w(l.a.Fragment,null,w(v.b,null,"Hi ",t.username),w(v.a,null,w(h.a,{url:"logout.json",onSuccess:function(){return r(null)}},"Log Out")," ",w(s.a,{variant:"outlined",size:"small",onClick:function(){return r(null)}},"Refresh")),w(v.c,null,"Private Details"),w(v.a,null,w(m.a,{newUser:!1})," "),w(v.d,null,"Username: ",t.username),w(v.d,null,"Email: ",t.email||"[none]"),!t.email_verified&&w(a.a,{severity:"warning",action:w(h.a,{url:"password_resets.json"},t.email_verified||t.email_sent?"Re":"","Send Verification Email")},"Please verify your email address."),w(v.c,null,"Location Records"),w(v.a,null,w(f.a,{onSave:function(e){var n=e.body;r(null),o.push("/location?id=".concat(n.id))}}),0===t.locations.length&&w(l.a.Fragment,null,w("br",null),w("br",null),w(a.a,{severity:"info",icon:w(i.a,{fontSize:"inherit"})},"Click the button above to start a new record location!"))),0!==t.locations.length&&w(l.a.Fragment,null,w("br",null),w(d.a,{locations:t.locations})),w(v.c,null,"Feedback"),w(p.a,null),e.env.donateButton&&w(u.a,{mt:3},w(v.d,null,"$5 tip: ",w("small",null,"(totally optional, no obligation)")),w("div",{dangerouslySetInnerHTML:{__html:e.env.donateButton}}),w(v.d,null,w("small",null,"(This will go towards website maintenance and server costs.)"))),w(v.c,null,"API Key"),w("div",{style:{overflowX:"auto",fontSize:"12px"}},w("code",null,t.api_key)))}}).call(this,t("8oxB"))},L6Ll:function(e,n,t){"use strict";t.r(n);var r=t("q1tI"),l=t.n(r),a=t("Z3vd"),o=t("h7RS"),i=t("e5ou"),u=t("W+MB"),s=t("UC51"),c=t("AesL"),d=t("3hq0"),f=l.a.createElement,m=function(){var e=Object(r.useContext)(u.a)[1],n=Object(r.useState)(!1),t=n[0],o=n[1];return f(l.a.Fragment,null,f(a.a,{variant:"outlined",size:"small",onClick:function(){return o(!0)}},"Log In"),f(d.a,{open:t,setOpen:o,title:"Log In",fields:{username:{},password:{type:"password"}},method:"POST",url:"login.json",onSave:function(){e(null)}}))},p=l.a.createElement,h=function(){var e=Object(r.useState)(!1),n=e[0],t=e[1];return p(l.a.Fragment,null,p(a.a,{variant:"outlined",size:"small",onClick:function(){return t(!0)}},"Reset by Email"),p(d.a,{open:n,setOpen:t,title:"Reset by Email",fields:{email:{type:"email",helperText:"an email will be sent to the address on your account"}},method:"POST",url:"password_resets.json"}))},v=l.a.createElement,w=function(){return v(l.a.Fragment,null,v(i.b,null,"Welcome!"),v(i.c,null,"New Users:"),v(i.a,null,v(s.a,{newUser:!0})," or ",v(c.a,{component:a.a,variant:"outlined",size:"small",href:"/location",as:"/location?id=0"},"Try a Live Demo")),v(i.d,null,"Its free!"),v(i.c,null,"Existing Users:"),v(i.a,null,v(m,null)),v(i.c,null,"Forgot Username or Password?"),v(i.a,null,v(h,null)))},g=t("I3PH"),b=l.a.createElement;n.default=function(){var e=Object(r.useContext)(u.a),n=e[0],t=e[1];return b(o.a,null,b(i.a,null,null===n&&b(i.b,null,"Loading..."),!1===n&&b(l.a.Fragment,null,b(i.b,null,"Temporarily Unavailable"),b(i.d,null,"There was an error when connecting to the server."),b(i.d,null,"This may happen occasionally as the server is hosted on free resources."),b(i.d,null,"Please try again soon!"),b(a.a,{variant:"outlined",size:"small",onClick:function(){return t(null)}},"Refresh")),n&&void 0===n.id&&b(w,null),n&&void 0!==n.id&&b(g.a,{user:n,setUser:t})))}},UC51:function(e,n,t){"use strict";var r=t("q1tI"),l=t.n(r),a=t("Z3vd"),o=t("3hq0"),i=t("W+MB"),u=l.a.createElement;n.a=function(e){var n=e.newUser,t=Object(r.useContext)(i.a),s=t[0],c=t[1],d=Object(r.useState)(!1),f=d[0],m=d[1],p={username:{},email:{type:"email",helperText:"email is not required, not public and will never be used for spam - it may be used for password resets and very, very rare announcements"},password:{type:"password",label:"".concat(n?"":"Change"," Password"),helperText:n?"please use a random password generated by your browser or password manager":"leave blank to keep current password"},password_confirmation:{type:"password",label:"Confirm Password"}};return u(l.a.Fragment,null,u(a.a,{variant:"outlined",size:"small",onClick:function(){return m(!0)}},n?"Sign Up":"Edit Details"),u(o.a,{open:f,setOpen:m,title:n?"Sign Up":"Edit Details",description:"These private user details are never visible on the site or shared elsewhere.",fields:p,namespace:"user",method:n?"POST":"PATCH",url:"user.json",source:s,setSource:c,onSave:function(){c(null)}}))}},lgRd:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user",function(){return t("L6Ll")}])}},[["lgRd",0,2,1,3,4,5,6,7]]]);